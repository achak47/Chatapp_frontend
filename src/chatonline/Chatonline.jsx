import "./Chatonline.css" ;
import axios from "axios";
import { useState,useEffect } from "react";
export default function Chatonline({onlineUsers,currentId,setCurrentchat,matches}){
    const [onlineFriends, setOnlineFriends] = useState([]);
    useEffect(() => {
        setOnlineFriends(matches?.filter((f) => onlineUsers.includes(f.id)));
      }, [matches]);
    const handleClick = async (user) => {
        try {
          const res = await axios.get(
            `/conversations/find/${currentId}/${user._id}`
          );
          setCurrentchat(res.data);
        } catch (err) {
          console.log(err);
        }
      };
    return(
        <div className="chatOnline">
            {onlineFriends?.map((o) => (
            <div className="chatOnlineFriend" onClick={() => handleClick(o)}>
                <div className="chatOnlineImgContainer">
                    <img className="chatOnlineImage"
                    src="data:image/jpeg;base64,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" alt="" />
                    <div className="chatOnlineBadge"></div>
                </div>
                <span className="chatOnlineName">{o.name}</span>
            </div>
            ))}
        </div>
    )
}
